ファイルに入っている長さがバラバラなパターンとテキストを比較するようにプログラムを変更しました。
ファイルには上からパターンとなるリズムが、下に示すように入っています。

4　リズムの長さ
1　以下リズムの比率
1
1
1  ここまでで一つのパターン
5　リズムの長さ 
1
1
2
2
1　ここまでで一つのパターン

結果はPCに出力させて上から何番目のパターンと照合したかを出力させています。

例）
pattren:35
*-*-*--*----*

上の例だと上から35番目のパターンと照合したことを示していて、そのリズムの比率が
1:1:2:4 のリズムと照合したことを示しています。パターンが入っている順番は適当になっています。